{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anser\\\\Desktop\\\\Personal Projects\\\\mernApp\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { FaTrash } from 'react-icons/fa';\nimport { FaCopy } from 'react-icons/fa';\nimport { FaEdit } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: '',\n      body: '',\n      posts: []\n    };\n\n    this.componentDidMount = () => {\n      this.getBlogPost();\n      this.update();\n    };\n\n    this.getBlogPost = () => {\n      axios.get('/api').then(response => {\n        const data = response.data;\n        this.setState({\n          posts: data\n        });\n        console.log('Data has been recieved.');\n      }).catch(() => {\n        alert('Error retrieving data.');\n      });\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submit = event => {\n      var y = document.getElementById(\"bodyInput\").value;\n\n      if (y === \"\") {\n        alert(\"Fill the body before submitting your post.\");\n        return false;\n      }\n\n      event.preventDefault();\n      const payload = {\n        title: this.state.title,\n        body: this.state.body,\n        date: Date(Date.now())\n      };\n      axios({\n        url: '/api/save',\n        method: 'POST',\n        data: payload\n      }).then(() => {\n        console.log('Data has been sent to the server');\n        this.resetUserInput();\n        this.getBlogPost();\n      }).catch(() => {\n        console.log('Internal server error');\n      });\n    };\n\n    this.resetUserInput = () => {\n      this.setState({\n        title: '',\n        body: ''\n      });\n    };\n\n    this.displayBlogPost = posts => {\n      if (!posts.length) {\n        return null;\n      }\n\n      ;\n      var reverse = posts.reverse();\n      return reverse.map(post => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blogPost\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"postTitle\",\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"date\",\n              children: post.date.substring(4, 21)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: post.body\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"trashIcon\",\n              href: \"/#\",\n              onClick: () => this.delete(post._id),\n              children: /*#__PURE__*/_jsxDEV(FaTrash, {\n                size: 28\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"copyIcon\",\n              href: \"/#\",\n              onClick: this.copy,\n              children: /*#__PURE__*/_jsxDEV(FaCopy, {\n                size: 28\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"editIcon\",\n              href: \"/#\",\n              onClick: () => this.update(post._id),\n              children: /*#__PURE__*/_jsxDEV(FaEdit, {\n                size: 28\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)]\n          }, post._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 14\n        }, this);\n      });\n    };\n\n    this.copy = event => {\n      event.preventDefault();\n      event.persist();\n      var noteContent = event.currentTarget.parentNode.children[0].textContent + \"\\n\" + event.currentTarget.parentNode.children[2].textContent + \"\\n\" + event.currentTarget.parentNode.children[1].textContent;\n      var hiddenText = document.createElement(\"textarea\");\n      document.body.appendChild(hiddenText);\n      hiddenText.value = noteContent;\n      hiddenText.select();\n      document.execCommand(\"copy\");\n      window.alert(\"Text copied to clipboard!\\n\\n\" + hiddenText.value);\n      document.body.removeChild(hiddenText);\n    };\n  }\n\n  delete(id) {\n    var confirmed = window.confirm(\"Are you sure you want to delete this post?\");\n\n    if (confirmed === true) {\n      axios.delete('/api/' + id);\n      this.getBlogPost();\n    }\n  }\n\n  update(id) {\n    var prompt = window.prompt(\"Please update the note body.\");\n\n    if (prompt != null) {\n      const payload = {\n        title: prompt,\n        body: prompt,\n        date: Date(Date.now())\n      };\n      window.alert(Date(Date.now()));\n      axios({\n        url: '/api/update/' + id,\n        method: 'PUT',\n        data: payload\n      }).then(() => {\n        console.log('Data has been sent to the server');\n        this.resetUserInput();\n        this.getBlogPost();\n      }).catch(() => {\n        console.log('Internal server error');\n      });\n    }\n  }\n\n  render() {\n    console.log('State: ', this.state); // JSX \n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"_blank\",\n          className: \"titleRefresh\",\n          style: {\n            textDecoration: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Anser's Online Notepad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.submit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"titleInput\",\n              className: \"titleInput\",\n              autoComplete: \"off\",\n              type: \"text\",\n              name: \"title\",\n              value: this.state.title,\n              onChange: this.handleChange,\n              placeholder: \"Title (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"bodyInput\",\n              className: \"bodyInput\",\n              name: \"body\",\n              cols: \"30\",\n              rows: \"10\",\n              value: this.state.body,\n              onChange: this.handleChange,\n              placeholder: \"Body\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postArea\",\n        children: this.displayBlogPost(this.state.posts)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/anser/Desktop/Personal Projects/mernApp/client/src/App.js"],"names":["React","axios","FaTrash","FaCopy","FaEdit","App","Component","state","title","body","posts","componentDidMount","getBlogPost","update","get","then","response","data","setState","console","log","catch","alert","handleChange","target","name","value","submit","event","y","document","getElementById","preventDefault","payload","date","Date","now","url","method","resetUserInput","displayBlogPost","length","reverse","map","post","substring","delete","_id","copy","persist","noteContent","currentTarget","parentNode","children","textContent","hiddenText","createElement","appendChild","select","execCommand","window","removeChild","id","confirmed","confirm","prompt","render","textDecoration"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport './App.css';\n\nimport { FaTrash } from 'react-icons/fa';\nimport { FaCopy } from 'react-icons/fa';\nimport { FaEdit } from 'react-icons/fa';\n\n\nclass App extends React.Component {\n\n\n  state = {\n    title: '',\n    body: '',\n    posts: []\n  };\n\n  componentDidMount = () => {\n    this.getBlogPost();\n    this.update();\n  }\n\n  getBlogPost = () => {\n    axios.get('/api')\n      .then((response) => {\n        const data = response.data;\n        this.setState({ posts: data });\n        console.log('Data has been recieved.');\n      })\n      .catch(() => {\n        alert('Error retrieving data.');\n      });\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value});\n  };\n\n\n  submit = (event) => {\n\n    var y = document.getElementById(\"bodyInput\").value;\n\n    if (y === \"\") {\n      alert(\"Fill the body before submitting your post.\");\n      return false;\n    } \n\n    event.preventDefault();\n\n    const payload = {\n      title: this.state.title,\n      body: this.state.body,\n      date: Date(Date.now())\n    };\n\n    \n\n    axios({\n      url: '/api/save',\n      method: 'POST',\n      data: payload\n    })\n      .then(() => {\n        console.log('Data has been sent to the server');\n        this.resetUserInput();\n        this.getBlogPost();\n      })\n      .catch(() => {\n        console.log('Internal server error');\n      });\n  };\n\n  resetUserInput = () => {\n    this.setState({\n      title: '',\n      body: ''\n    });\n  };\n\n  displayBlogPost = (posts) => {\n    if (!posts.length) {\n      return null;\n    };\n\n    var reverse = posts.reverse();\n\n    return reverse.map((post) => {\n      return <div className=\"blogPost\">\n              <div key={post._id}>\n                <h2 className=\"postTitle\">{post.title}</h2>\n                <p className=\"date\">{post.date.substring(4,21)}</p>\n                <p>{post.body}</p>\n                <a className=\"trashIcon\" href=\"/#\" onClick={() => this.delete(post._id)}>\n                  <FaTrash size={28} />\n                </a>\n                <a className=\"copyIcon\" href=\"/#\" onClick={this.copy}>\n                  <FaCopy size={28} />\n                </a>\n                <a className=\"editIcon\" href=\"/#\" onClick={() => this.update(post._id)}>\n                  <FaEdit size={28} />\n                </a>\n              </div>\n            </div>\n    });\n  };\n\n  copy = (event) => {\n    event.preventDefault();\n    event.persist();\n    var noteContent = event.currentTarget.parentNode.children[0].textContent + \"\\n\" + event.currentTarget.parentNode.children[2].textContent + \"\\n\" + event.currentTarget.parentNode.children[1].textContent;\n    var hiddenText = document.createElement(\"textarea\");\n    document.body.appendChild(hiddenText);\n    hiddenText.value = noteContent;\n    hiddenText.select();\n    document.execCommand(\"copy\");\n    window.alert(\"Text copied to clipboard!\\n\\n\" + hiddenText.value);\n    document.body.removeChild(hiddenText);\n  }\n\n  delete(id) {\n    var confirmed = window.confirm(\"Are you sure you want to delete this post?\")\n\n    if (confirmed === true) {\n      axios.delete('/api/' + id)\n      this.getBlogPost();\n    }\n  }\n\n  update(id) {\n    var prompt = window.prompt(\"Please update the note body.\");\n\n    if (prompt != null) {\n\n      const payload = {\n        title: prompt,\n        body: prompt,\n        date: Date(Date.now())\n      };\n\n      window.alert(Date(Date.now()));\n\n\n      axios({\n        url: '/api/update/' + id,\n        method: 'PUT',\n        data: payload\n      })\n        .then(() => {\n          console.log('Data has been sent to the server');\n          this.resetUserInput();\n          this.getBlogPost();\n        })\n        .catch(() => {\n          console.log('Internal server error');\n        });\n    }\n  }\n\n   \n  render () {\n    \n\n    console.log('State: ', this.state);\n\n    // JSX \n\n    return(\n      <div className=\"app\">\n        <div className=\"sidebar\">\n          <a href=\"_blank\" className=\"titleRefresh\" style={{ textDecoration: 'none' }}>\n            <h1>Anser's Online Notepad</h1>\n          </a>\n          <form onSubmit={this.submit}>\n            <div>\n              <input \n                id=\"titleInput\"\n                className=\"titleInput\"\n                autoComplete=\"off\"\n                type=\"text\"\n                name=\"title\"\n                value={this.state.title}\n                onChange={this.handleChange}\n                placeholder=\"Title (optional)\"\n              />\n            </div>\n            <div>\n              <textarea\n                id=\"bodyInput\"\n                className=\"bodyInput\"\n                name=\"body\"\n                cols=\"30\"\n                rows=\"10\"\n                value={this.state.body}\n                onChange={this.handleChange}\n                placeholder=\"Body\"\n              >\n              </textarea>\n            </div>\n            <button className=\"submit\">Submit</button>\n          </form>\n        </div>\n        <div className=\"postArea\">\n          {this.displayBlogPost(this.state.posts)}\n        </div>  \n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}