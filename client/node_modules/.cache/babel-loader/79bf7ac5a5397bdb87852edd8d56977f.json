{"ast":null,"code":"import _defineProperty from\"C:/Users/anser/Desktop/Personal Projects/mernApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/anser/Desktop/Personal Projects/mernApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/anser/Desktop/Personal Projects/mernApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/anser/Desktop/Personal Projects/mernApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/anser/Desktop/Personal Projects/mernApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import'./App.css';import{FaTrash}from'react-icons/fa';import{FaCopy}from'react-icons/fa';import{FaEdit}from'react-icons/fa';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={title:'',body:'',posts:[]};_this.componentDidMount=function(){_this.getBlogPost();};_this.getBlogPost=function(){axios.get('https://ansers-online-notepad.herokuapp.com/api').then(function(response){var data=response.data;_this.setState({posts:data});console.log('Data has been recieved.');}).catch(function(){alert('Error retrieving data.');});};_this.handleChange=function(_ref){var target=_ref.target;var name=target.name,value=target.value;_this.setState(_defineProperty({},name,value));};_this.submit=function(event){var y=document.getElementById(\"bodyInput\").value;if(y===\"\"){alert(\"Fill the body before submitting your post.\");return false;}event.preventDefault();var payload={title:_this.state.title,body:_this.state.body,date:Date(Date.now()).substring(4,21)};axios({url:'https://ansers-online-notepad.herokuapp.com/api/save',method:'POST',data:payload}).then(function(){console.log('Data has been sent to the server');_this.resetUserInput();_this.getBlogPost();}).catch(function(){console.log('Internal server error');});};_this.resetUserInput=function(){_this.setState({title:'',body:''});};_this.displayBlogPost=function(posts){if(!posts.length){return null;};var reverse=posts.reverse();return reverse.map(function(post){return/*#__PURE__*/_jsx(\"div\",{className:\"blogPost\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"postTitle\",children:post.title}),/*#__PURE__*/_jsx(\"p\",{className:\"date\",children:post.date}),/*#__PURE__*/_jsx(\"p\",{children:post.body}),/*#__PURE__*/_jsx(\"a\",{className:\"trashIcon\",href:\"/#\",onClick:function onClick(){return _this.delete(post._id);},children:/*#__PURE__*/_jsx(FaTrash,{size:28})}),/*#__PURE__*/_jsx(\"a\",{className:\"copyIcon\",href:\"/#\",onClick:_this.copy,children:/*#__PURE__*/_jsx(FaCopy,{size:28})}),/*#__PURE__*/_jsx(\"a\",{className:\"editIcon\",href:\"/#\",onClick:function onClick(){return _this.update(post._id);},children:/*#__PURE__*/_jsx(FaEdit,{size:28})})]},post._id)});});};_this.copy=function(event){event.preventDefault();event.persist();var noteContent=event.currentTarget.parentNode.children[0].textContent+\"\\n\"+event.currentTarget.parentNode.children[2].textContent+\"\\n\"+event.currentTarget.parentNode.children[1].textContent;var hiddenText=document.createElement(\"textarea\");document.body.appendChild(hiddenText);hiddenText.value=noteContent;hiddenText.select();document.execCommand(\"copy\");window.alert(\"Text copied to clipboard!\\n\\n\"+hiddenText.value);document.body.removeChild(hiddenText);};return _this;}_createClass(App,[{key:\"delete\",value:function _delete(id){var confirmed=window.confirm(\"Are you sure you want to delete this post?\");if(confirmed===true){axios.delete('https://ansers-online-notepad.herokuapp.com/api/'+id);this.getBlogPost();}}},{key:\"update\",value:function update(id){var _this2=this;var prompt=window.prompt(\"Please update the note body.\");if(prompt!=null){var currentDate=Date(Date.now()).substring(4,21);var payload={body:prompt,date:\"(Edited)  \"+currentDate};axios({url:'https://ansers-online-notepad.herokuapp.com/api/update/'+id,method:'PUT',data:payload}).then(function(){console.log('Data has been sent to the server');_this2.resetUserInput();_this2.getBlogPost();}).catch(function(){console.log('Internal server error');});}}},{key:\"render\",value:function render(){console.log('State: ',this.state);// JSX \nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"_blank\",className:\"titleRefresh\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"h1\",{children:\"Anser's Online Notepad\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.submit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"titleInput\",className:\"titleInput\",autoComplete:\"off\",type:\"text\",name:\"title\",value:this.state.title,onChange:this.handleChange,placeholder:\"Title (optional)\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{id:\"bodyInput\",className:\"bodyInput\",name:\"body\",cols:\"30\",rows:\"10\",value:this.state.body,onChange:this.handleChange,placeholder:\"Body\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"submit\",children:\"Submit\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"postArea\",children:this.displayBlogPost(this.state.posts)})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/anser/Desktop/Personal Projects/mernApp/client/src/App.js"],"names":["React","axios","FaTrash","FaCopy","FaEdit","App","state","title","body","posts","componentDidMount","getBlogPost","get","then","response","data","setState","console","log","catch","alert","handleChange","target","name","value","submit","event","y","document","getElementById","preventDefault","payload","date","Date","now","substring","url","method","resetUserInput","displayBlogPost","length","reverse","map","post","delete","_id","copy","update","persist","noteContent","currentTarget","parentNode","children","textContent","hiddenText","createElement","appendChild","select","execCommand","window","removeChild","id","confirmed","confirm","prompt","currentDate","textDecoration","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport './App.css';\n\nimport { FaTrash } from 'react-icons/fa';\nimport { FaCopy } from 'react-icons/fa';\nimport { FaEdit } from 'react-icons/fa';\n\n\nclass App extends React.Component {\n\n\n  state = {\n    title: '',\n    body: '',\n    posts: []\n  };\n\n  componentDidMount = () => {\n    this.getBlogPost();\n  }\n\n  getBlogPost = () => {\n    axios.get('https://ansers-online-notepad.herokuapp.com/api')\n      .then((response) => {\n        const data = response.data;\n        this.setState({ posts: data });\n        console.log('Data has been recieved.');\n      })\n      .catch(() => {\n        alert('Error retrieving data.');\n      });\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value});\n  };\n\n\n  submit = (event) => {\n\n    var y = document.getElementById(\"bodyInput\").value;\n\n    if (y === \"\") {\n      alert(\"Fill the body before submitting your post.\");\n      return false;\n    } \n\n    event.preventDefault();\n\n    const payload = {\n      title: this.state.title,\n      body: this.state.body,\n      date: Date(Date.now()).substring(4,21)\n    };\n\n    \n\n    axios({\n      url: 'https://ansers-online-notepad.herokuapp.com/api/save',\n      method: 'POST',\n      data: payload\n    })\n      .then(() => {\n        console.log('Data has been sent to the server');\n        this.resetUserInput();\n        this.getBlogPost();\n      })\n      .catch(() => {\n        console.log('Internal server error');\n      });\n  };\n\n  resetUserInput = () => {\n    this.setState({\n      title: '',\n      body: ''\n    });\n  };\n\n  displayBlogPost = (posts) => {\n    if (!posts.length) {\n      return null;\n    };\n\n    var reverse = posts.reverse();\n\n    return reverse.map((post) => {\n      return <div className=\"blogPost\">\n              <div key={post._id}>\n                <h2 className=\"postTitle\">{post.title}</h2>\n                <p className=\"date\">{post.date}</p>\n                <p>{post.body}</p>\n                <a className=\"trashIcon\" href=\"/#\" onClick={() => this.delete(post._id)}>\n                  <FaTrash size={28} />\n                </a>\n                <a className=\"copyIcon\" href=\"/#\" onClick={this.copy}>\n                  <FaCopy size={28} />\n                </a>\n                <a className=\"editIcon\" href=\"/#\" onClick={() => this.update(post._id)}>\n                  <FaEdit size={28} />\n                </a>\n              </div>\n            </div>\n    });\n  };\n\n  copy = (event) => {\n    event.preventDefault();\n    event.persist();\n    var noteContent = event.currentTarget.parentNode.children[0].textContent + \"\\n\" + event.currentTarget.parentNode.children[2].textContent + \"\\n\" + event.currentTarget.parentNode.children[1].textContent;\n    var hiddenText = document.createElement(\"textarea\");\n    document.body.appendChild(hiddenText);\n    hiddenText.value = noteContent;\n    hiddenText.select();\n    document.execCommand(\"copy\");\n    window.alert(\"Text copied to clipboard!\\n\\n\" + hiddenText.value);\n    document.body.removeChild(hiddenText);\n  }\n\n  delete(id) {\n    var confirmed = window.confirm(\"Are you sure you want to delete this post?\")\n\n    if (confirmed === true) {\n      axios.delete('https://ansers-online-notepad.herokuapp.com/api/' + id)\n      this.getBlogPost();\n    }\n  }\n\n  update(id) {\n    var prompt = window.prompt(\"Please update the note body.\");\n\n    if (prompt != null) {\n\n      var currentDate = Date(Date.now()).substring(4,21);\n\n      const payload = {\n        body: prompt,\n        date: \"(Edited)  \" + currentDate \n      };\n\n\n      axios({\n        url: 'https://ansers-online-notepad.herokuapp.com/api/update/' + id,\n        method: 'PUT',\n        data: payload\n      })\n        .then(() => {\n          console.log('Data has been sent to the server');\n          this.resetUserInput();\n          this.getBlogPost();\n        })\n        .catch(() => {\n          console.log('Internal server error');\n        });\n    }\n  }\n\n   \n  render () {\n    \n\n    console.log('State: ', this.state);\n\n    // JSX \n\n    return(\n      <div className=\"app\">\n        <div className=\"sidebar\">\n          <a href=\"_blank\" className=\"titleRefresh\" style={{ textDecoration: 'none' }}>\n            <h1>Anser's Online Notepad</h1>\n          </a>\n          <form onSubmit={this.submit}>\n            <div>\n              <input \n                id=\"titleInput\"\n                className=\"titleInput\"\n                autoComplete=\"off\"\n                type=\"text\"\n                name=\"title\"\n                value={this.state.title}\n                onChange={this.handleChange}\n                placeholder=\"Title (optional)\"\n              />\n            </div>\n            <div>\n              <textarea\n                id=\"bodyInput\"\n                className=\"bodyInput\"\n                name=\"body\"\n                cols=\"30\"\n                rows=\"10\"\n                value={this.state.body}\n                onChange={this.handleChange}\n                placeholder=\"Body\"\n              >\n              </textarea>\n            </div>\n            <button className=\"submit\">Submit</button>\n          </form>\n        </div>\n        <div className=\"postArea\">\n          {this.displayBlogPost(this.state.posts)}\n        </div>  \n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}