{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anser\\\\Desktop\\\\Personal Projects\\\\mernApp\\\\client\\\\src\\\\App.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { FaTrash } from 'react-icons/fa';\nimport { FaCopy } from 'react-icons/fa';\nimport { FaEdit } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: '',\n      body: '',\n      posts: []\n    };\n\n    this.componentDidMount = () => {\n      this.getBlogPost();\n    };\n\n    this.getBlogPost = () => {\n      axios.get('/api').then(response => {\n        const data = response.data;\n        this.setState({\n          posts: data\n        });\n        console.log('Data has been recieved.');\n      }).catch(() => {\n        alert('Error retrieving data.');\n      });\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submit = event => {\n      var y = document.getElementById(\"bodyInput\").value;\n\n      if (y === \"\") {\n        alert(\"Fill the body before submitting your post.\");\n        return false;\n      }\n\n      event.preventDefault();\n      const payload = {\n        title: this.state.title,\n        body: this.state.body,\n        date: Date(Date.now()).substring(4, 21)\n      };\n      axios({\n        url: '/api/save',\n        method: 'POST',\n        data: payload\n      }).then(() => {\n        console.log('Data has been sent to the server');\n        this.resetUserInput();\n        this.getBlogPost();\n      }).catch(() => {\n        console.log('Internal server error');\n      });\n    };\n\n    this.resetUserInput = () => {\n      this.setState({\n        title: '',\n        body: ''\n      });\n    };\n\n    this.displayBlogPost = posts => {\n      if (!posts.length) {\n        return null;\n      }\n\n      ;\n      var reverse = posts.reverse();\n      return reverse.map(post => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"blogPost\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"postTitle\",\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"date\",\n              children: post.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: post.body\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"trashIcon\",\n              href: \"/#\",\n              onClick: () => this.delete(post._id),\n              children: /*#__PURE__*/_jsxDEV(FaTrash, {\n                size: 28\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"copyIcon\",\n              href: \"/#\",\n              onClick: this.copy,\n              children: /*#__PURE__*/_jsxDEV(FaCopy, {\n                size: 28\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"editIcon\",\n              href: \"/#\",\n              onClick: () => this.update(post._id),\n              children: /*#__PURE__*/_jsxDEV(FaEdit, {\n                size: 28\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, post._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 14\n        }, this);\n      });\n    };\n\n    this.copy = event => {\n      event.preventDefault();\n      event.persist();\n      var noteContent = event.currentTarget.parentNode.children[0].textContent + \"\\n\" + event.currentTarget.parentNode.children[2].textContent + \"\\n\" + event.currentTarget.parentNode.children[1].textContent;\n      var hiddenText = document.createElement(\"textarea\");\n      document.body.appendChild(hiddenText);\n      hiddenText.value = noteContent;\n      hiddenText.select();\n      document.execCommand(\"copy\");\n      window.alert(\"Text copied to clipboard!\\n\\n\" + hiddenText.value);\n      document.body.removeChild(hiddenText);\n    };\n  }\n\n  delete(id) {\n    var confirmed = window.confirm(\"Are you sure you want to delete this post?\");\n\n    if (confirmed === true) {\n      axios.delete('/api/' + id);\n      this.getBlogPost();\n    }\n  }\n\n  update(id) {\n    var prompt = window.prompt(\"Please update the note body.\");\n\n    if (prompt != null) {\n      var currentDate = Date(Date.now()).substring(4, 21);\n      const payload = {\n        body: prompt,\n        date: currentDate + \"*\"\n      };\n      axios({\n        url: '/api/update/' + id,\n        method: 'PUT',\n        data: payload\n      }).then(() => {\n        console.log('Data has been sent to the server');\n        this.resetUserInput();\n        this.getBlogPost();\n      }).catch(() => {\n        console.log('Internal server error');\n      });\n    }\n  }\n\n  render() {\n    console.log('State: ', this.state); // JSX \n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"_blank\",\n          className: \"titleRefresh\",\n          style: {\n            textDecoration: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Anser's Online Notepad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.submit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"titleInput\",\n              className: \"titleInput\",\n              autoComplete: \"off\",\n              type: \"text\",\n              name: \"title\",\n              value: this.state.title,\n              onChange: this.handleChange,\n              placeholder: \"Title (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"bodyInput\",\n              className: \"bodyInput\",\n              name: \"body\",\n              cols: \"30\",\n              rows: \"10\",\n              value: this.state.body,\n              onChange: this.handleChange,\n              placeholder: \"Body\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postArea\",\n        children: this.displayBlogPost(this.state.posts)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/anser/Desktop/Personal Projects/mernApp/client/src/App.js"],"names":["React","axios","FaTrash","FaCopy","FaEdit","App","Component","state","title","body","posts","componentDidMount","getBlogPost","get","then","response","data","setState","console","log","catch","alert","handleChange","target","name","value","submit","event","y","document","getElementById","preventDefault","payload","date","Date","now","substring","url","method","resetUserInput","displayBlogPost","length","reverse","map","post","delete","_id","copy","update","persist","noteContent","currentTarget","parentNode","children","textContent","hiddenText","createElement","appendChild","select","execCommand","window","removeChild","id","confirmed","confirm","prompt","currentDate","render","textDecoration"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport './App.css';\n\nimport { FaTrash } from 'react-icons/fa';\nimport { FaCopy } from 'react-icons/fa';\nimport { FaEdit } from 'react-icons/fa';\n\n\nclass App extends React.Component {\n\n\n  state = {\n    title: '',\n    body: '',\n    posts: []\n  };\n\n  componentDidMount = () => {\n    this.getBlogPost();\n  }\n\n  getBlogPost = () => {\n    axios.get('/api')\n      .then((response) => {\n        const data = response.data;\n        this.setState({ posts: data });\n        console.log('Data has been recieved.');\n      })\n      .catch(() => {\n        alert('Error retrieving data.');\n      });\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value});\n  };\n\n\n  submit = (event) => {\n\n    var y = document.getElementById(\"bodyInput\").value;\n\n    if (y === \"\") {\n      alert(\"Fill the body before submitting your post.\");\n      return false;\n    } \n\n    event.preventDefault();\n\n    const payload = {\n      title: this.state.title,\n      body: this.state.body,\n      date: Date(Date.now()).substring(4,21)\n    };\n\n    \n\n    axios({\n      url: '/api/save',\n      method: 'POST',\n      data: payload\n    })\n      .then(() => {\n        console.log('Data has been sent to the server');\n        this.resetUserInput();\n        this.getBlogPost();\n      })\n      .catch(() => {\n        console.log('Internal server error');\n      });\n  };\n\n  resetUserInput = () => {\n    this.setState({\n      title: '',\n      body: ''\n    });\n  };\n\n  displayBlogPost = (posts) => {\n    if (!posts.length) {\n      return null;\n    };\n\n    var reverse = posts.reverse();\n\n    return reverse.map((post) => {\n      return <div className=\"blogPost\">\n              <div key={post._id}>\n                <h2 className=\"postTitle\">{post.title}</h2>\n                <p className=\"date\">{post.date}</p>\n                <p>{post.body}</p>\n                <a className=\"trashIcon\" href=\"/#\" onClick={() => this.delete(post._id)}>\n                  <FaTrash size={28} />\n                </a>\n                <a className=\"copyIcon\" href=\"/#\" onClick={this.copy}>\n                  <FaCopy size={28} />\n                </a>\n                <a className=\"editIcon\" href=\"/#\" onClick={() => this.update(post._id)}>\n                  <FaEdit size={28} />\n                </a>\n              </div>\n            </div>\n    });\n  };\n\n  copy = (event) => {\n    event.preventDefault();\n    event.persist();\n    var noteContent = event.currentTarget.parentNode.children[0].textContent + \"\\n\" + event.currentTarget.parentNode.children[2].textContent + \"\\n\" + event.currentTarget.parentNode.children[1].textContent;\n    var hiddenText = document.createElement(\"textarea\");\n    document.body.appendChild(hiddenText);\n    hiddenText.value = noteContent;\n    hiddenText.select();\n    document.execCommand(\"copy\");\n    window.alert(\"Text copied to clipboard!\\n\\n\" + hiddenText.value);\n    document.body.removeChild(hiddenText);\n  }\n\n  delete(id) {\n    var confirmed = window.confirm(\"Are you sure you want to delete this post?\")\n\n    if (confirmed === true) {\n      axios.delete('/api/' + id)\n      this.getBlogPost();\n    }\n  }\n\n  update(id) {\n    var prompt = window.prompt(\"Please update the note body.\");\n\n    if (prompt != null) {\n\n      var currentDate = Date(Date.now()).substring(4,21);\n\n      const payload = {\n        body: prompt,\n        date: currentDate + \"*\"\n      };\n\n\n      axios({\n        url: '/api/update/' + id,\n        method: 'PUT',\n        data: payload\n      })\n        .then(() => {\n          console.log('Data has been sent to the server');\n          this.resetUserInput();\n          this.getBlogPost();\n        })\n        .catch(() => {\n          console.log('Internal server error');\n        });\n    }\n  }\n\n   \n  render () {\n    \n\n    console.log('State: ', this.state);\n\n    // JSX \n\n    return(\n      <div className=\"app\">\n        <div className=\"sidebar\">\n          <a href=\"_blank\" className=\"titleRefresh\" style={{ textDecoration: 'none' }}>\n            <h1>Anser's Online Notepad</h1>\n          </a>\n          <form onSubmit={this.submit}>\n            <div>\n              <input \n                id=\"titleInput\"\n                className=\"titleInput\"\n                autoComplete=\"off\"\n                type=\"text\"\n                name=\"title\"\n                value={this.state.title}\n                onChange={this.handleChange}\n                placeholder=\"Title (optional)\"\n              />\n            </div>\n            <div>\n              <textarea\n                id=\"bodyInput\"\n                className=\"bodyInput\"\n                name=\"body\"\n                cols=\"30\"\n                rows=\"10\"\n                value={this.state.body}\n                onChange={this.handleChange}\n                placeholder=\"Body\"\n              >\n              </textarea>\n            </div>\n            <button className=\"submit\">Submit</button>\n          </form>\n        </div>\n        <div className=\"postArea\">\n          {this.displayBlogPost(this.state.posts)}\n        </div>  \n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}